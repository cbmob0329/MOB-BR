<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <meta name="theme-color" content="#111" />
  <title>MOB BATTLE ROYALE - Coach Demo</title>
  <link rel="stylesheet" href="./style.css?v=1" />
</head>

<body>
  <div id="app">
    <!-- Header -->
    <header id="topbar">
      <div class="top-left">
        <div class="label">企業名</div>
        <div id="companyName" class="value">MOB COMPANY</div>
      </div>

      <div class="top-mid">
        <div class="label">企業ランク</div>
        <div id="companyRank" class="value rank">C</div>
      </div>

      <div class="top-right">
        <div class="label">チーム名</div>
        <div id="teamName" class="value">PLAYER TEAM</div>
      </div>
    </header>

    <!-- Main Screen Container -->
    <main id="screenRoot">

      <!-- SCREEN: MAIN -->
      <section id="screenMain" class="screen active">
        <div class="screenTitleRow">
          <div class="screenTitle">MAIN</div>
          <div class="screenMeta">
            <span class="metaItem">Year <b id="yearText">1989</b></span>
            <span class="metaItem">Week <b id="weekText">1</b></span>
            <span class="metaItem gold">G <b id="goldText">0</b></span>
          </div>
        </div>

        <!-- Main image area (main.png) -->
        <div id="mainImageWrap" class="imageWrap">
          <img id="mainImage" class="screenImage" src="./main.png" alt="main" />
          <!-- Transparent clickable buttons are injected here (ID1..19) -->
          <div id="mainButtonsLayer" class="buttonsLayer" aria-hidden="true"></div>

          <!-- Fallback if image is missing -->
          <div id="mainFallback" class="imageFallback hidden">
            <div class="fallbackBox">
              <div class="fallbackTitle">main.png が見つかりません</div>
              <div class="fallbackSub">クリック領域は動作します（仮表示）</div>
            </div>
          </div>
        </div>

        <div class="hintRow">
          <div class="hint">※メイン画面ボタンは画像上に透明エリアで配置します（ID1〜19）</div>
        </div>
      </section>

      <!-- SCREEN: MAP (view only) -->
      <section id="screenMap" class="screen">
        <div class="screenTitleRow">
          <div class="screenTitle">MAP</div>
          <div class="screenMeta">
            <button id="btnMapNext" class="miniBtn">NEXT</button>
          </div>
        </div>

        <div id="mapImageWrap" class="imageWrap">
          <img id="mapImage" class="screenImage" src="./map.png" alt="map" />
          <div id="mapFallback" class="imageFallback hidden">
            <div class="fallbackBox">
              <div class="fallbackTitle">map.png が見つかりません</div>
              <div class="fallbackSub">この画面は表示専用です</div>
            </div>
          </div>
        </div>

        <div class="hintRow">
          <div class="hint">※MAPはクリックしません（試合開始の演出表示のみ）</div>
        </div>
      </section>

      <!-- SCREEN: MATCH (log + status) -->
      <section id="screenMatch" class="screen">
        <div class="screenTitleRow">
          <div class="screenTitle">MATCH</div>
          <div class="screenMeta">
            <button id="btnAutoToggle" class="miniBtn">AUTO: OFF</button>
            <button id="btnNextStep" class="miniBtn primary">NEXT</button>
          </div>
        </div>

        <div class="matchTop">
          <div class="matchCard">
            <div class="matchLine">
              <span class="k">試合</span>
              <b id="matchIndexText">1</b>
              <span class="k">/</span>
              <b id="matchTotalText">5</b>
            </div>
            <div class="matchLine">
              <span class="k">ラウンド</span>
              <b id="roundText">R1</b>
            </div>
            <div class="matchLine">
              <span class="k">残り</span>
              <b id="aliveTeamsText">20</b>
              <span class="k">チーム</span>
            </div>
          </div>

          <div class="matchCard">
            <div class="matchLine">
              <span class="k">重要シーン</span>
              <b id="importantSceneText">---</b>
            </div>
            <div class="matchLine">
              <span class="k">イベント</span>
              <b id="eventText">---</b>
            </div>
          </div>
        </div>

        <div class="logWrap">
          <div class="logTitleRow">
            <div class="logTitle">LOG</div>
            <button id="btnClearLog" class="miniBtn">CLEAR</button>
          </div>
          <div id="logBox" class="logBox"></div>
        </div>
      </section>

      <!-- SCREEN: RESULT (one match) -->
      <section id="screenResult" class="screen">
        <div class="screenTitleRow">
          <div class="screenTitle">RESULT</div>
          <div class="screenMeta">
            <button id="btnResultNext" class="miniBtn primary">次へ</button>
          </div>
        </div>

        <div class="tableWrap">
          <div class="tableTitle">試合結果（20チーム）</div>
          <div id="resultTable" class="tableBox"></div>
        </div>
      </section>

      <!-- SCREEN: TOTAL (overall standings) -->
      <section id="screenTotal" class="screen">
        <div class="screenTitleRow">
          <div class="screenTitle">TOTAL</div>
          <div class="screenMeta">
            <button id="btnBackToMain" class="miniBtn primary">メインへ</button>
          </div>
        </div>

        <div class="tableWrap">
          <div class="tableTitle">総合順位</div>
          <div id="totalTable" class="tableBox"></div>
        </div>
      </section>

    </main>

    <!-- Modal (important scenes / etc) -->
    <div id="modalRoot" class="modalRoot hidden">
      <div id="modalBackdrop" class="modalBackdrop"></div>
      <div class="modalCard">
        <div class="modalHead">
          <div id="modalTitle" class="modalTitle">重要シーン</div>
          <button id="btnModalClose" class="miniBtn">閉じる</button>
        </div>
        <div id="modalBody" class="modalBody">
          <div class="modalText">---</div>
        </div>
        <div class="modalFoot">
          <button id="btnModalNext" class="miniBtn primary">次へ</button>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer id="footerBar">
      <div class="footerLeft">
        <span class="verLabel">VERSION</span>
        <b id="versionText">v0.1</b>
      </div>
      <div class="footerRight">
        <span class="small">MOB Battle Royale - Coach View</span>
      </div>
    </footer>
  </div>

  <!-- Scripts (ES Modules) -->
  <script type="module" src="./assets.js?v=1"></script>
  <script type="module" src="./state.js?v=1"></script>
  <script type="module" src="./data_teams.js?v=1"></script>
  <script type="module" src="./data_players.js?v=1"></script>
  <script type="module" src="./data_items.js?v=1"></script>

  <script type="module" src="./ui_common.js?v=1"></script>
  <script type="module" src="./ui_main.js?v=1"></script>
  <script type="module" src="./sim.js?v=1"></script>
</body>
</html>
