/* =========================
   team.css v18（暗さ改善：modalBack薄め + パネル明るめ）
   - 左メニューから開く team/shop/card/schedule/training の “暗い” 問題をまとめて改善
   - ui_team.js が参照するIDはHTML側で保持
========================= */

/* ===== 共通：オーバーレイ画面 ===== */
.teamScreen{
  position:fixed;
  inset:0;
  z-index:9000;
  display:none;
  align-items:center;
  justify-content:center;
  padding:14px;
}

.teamScreen.show{
  display:flex;
}

/* ===== パネル（暗すぎ対策：背景を明るく・文字を読みやすく） ===== */
.teamPanel{
  width:min(720px, 96vw);
  max-height:86vh;
  overflow:auto;
  border-radius:16px;

  /* ★暗さ改善：少し明るく */
  background:rgba(32, 35, 44, .92);

  /* ★境界が見えるように */
  border:1px solid rgba(255,255,255,.18);

  /* 影は残すが重くしすぎない */
  box-shadow:0 20px 60px rgba(0,0,0,.45);

  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);

  color: rgba(255,255,255,.94);
}

.teamPanelWide{
  padding:10px;
}

/* ヘッダ */
.teamHead{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding:6px 6px 10px;
}

.teamTitle{
  margin:0;
  font-size:16px;
  font-weight:1000;
  letter-spacing:.3px;
}

.teamCloseBtn{
  padding:10px 12px;
  border-radius:12px;
}

/* ====== 案A：スコアボード型 ====== */
.teamPanel.teamPanelWide{
  display:flex;
  flex-direction:column;
  gap:12px;
}

/* ヘッダー（企業/チーム + 総合%群） */
.teamHeaderA{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap:12px;
  padding:10px 10px 8px;
  border-bottom:1px solid rgba(255,255,255,.14);
}

.teamHeaderA .teamHeaderLeft{
  display:flex;
  flex-direction:column;
  gap:4px;
  min-width:0;
}

.teamHeaderA .teamHeaderLeft .line{
  font-size:13px;
  opacity:.96;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.teamHeaderA .teamHeaderLeft .line b{
  font-weight:1000;
}

.teamHeaderA .teamHeaderRight{
  display:flex;
  align-items:baseline;
  gap:8px;
  flex-wrap:wrap;
  justify-content:flex-end;
  text-align:right;
}

/* 総合% */
.teamPowerBig{
  font-size:26px;
  font-weight:1000;
  letter-spacing:.3px;
  white-space:nowrap;
}

/* ui_team.js が後付けするカード込み表示 */
.teamPowerCard{
  margin-left:8px;
  color:#ff3b30;
  font-weight:1000;
  white-space:nowrap;
  font-size:16px;
}
.teamPowerCardLabel{
  margin-left:6px;
  font-size:11px;
  opacity:.95;
  color:#ff3b30;
  white-space:nowrap;
}

/* 3人カード */
.teamMembersA{
  display:flex;
  flex-direction:column;
  gap:10px;
  padding:4px 10px 0;
}

.memberCardA{
  border:1px solid rgba(255,255,255,.16);

  /* ★暗さ改善：カード自体も明るく */
  background:rgba(255,255,255,.10);

  border-radius:14px;
  padding:10px;
  display:flex;
  flex-direction:column;
  gap:8px;
}

.memberCardA .memberTop{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}

.memberCardA .memberName{
  font-size:16px;
  font-weight:1000;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.memberCardA .memberTag{
  font-size:11px;
  opacity:.88;
  border:1px solid rgba(255,255,255,.18);
  border-radius:999px;
  padding:3px 8px;
  white-space:nowrap;
}

/* ステータスは読みやすさ最優先で “セル背景を少し明るく” */
.memberStatsGridA{
  display:grid;
  grid-template-columns:repeat(4, 1fr);
  gap:6px 8px;
}

.statCellA{
  display:flex;
  align-items:baseline;
  justify-content:space-between;
  gap:6px;
  padding:6px 8px;
  border-radius:10px;

  /* ★暗さ改善：黒ベタをやめて少し明るいガラス感に */
  background:rgba(255,255,255,.08);

  border:1px solid rgba(255,255,255,.10);
  min-width:0;
}

.statCellA .k{
  font-size:11px;
  opacity:.92;
  white-space:nowrap;
}

.statCellA .v{
  font-size:14px;
  font-weight:1000;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

/* PAS行 */
.teamMiniSkillRow{
  display:flex;
  gap:10px;
  padding-top:2px;
}

.teamMiniSkill{
  font-size:12px;
  opacity:.94;
  line-height:1.35;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

/* フッター */
.teamFooterA{
  padding:8px 10px 10px;
  display:flex;
  flex-direction:column;
  gap:10px;
  border-top:1px solid rgba(255,255,255,.14);
}

.teamSaveRowA{
  display:flex;
  gap:10px;
}

.teamSaveRowA .saveBtn{
  flex:1;
  padding:11px 12px;
  border-radius:12px;
  font-weight:1000;
}

.teamSaveRowA .danger{
  background:rgba(255,59,48,.18);
  border:1px solid rgba(255,59,48,.35);
}

.teamFooterNote{
  font-size:12px;
  opacity:.90;
  line-height:1.35;
}

/* ====== ここが本命：全体が暗くなる原因対策 ======
   modalBack は base.css 側に定義があるはずなので、
   team.css で “上書き”して薄くする（全画面共通で効く）
*/
#modalBack.modalBack{
  /* ★暗さ改善：濃度を大幅に薄く */
  background: rgba(0,0,0,.28) !important;

  /* さらに“画面全体がモヤる”感じを抑える */
  backdrop-filter: blur(1px) !important;
  -webkit-backdrop-filter: blur(1px) !important;
}

/* modalCard（メンバー名や各種ポップ）も暗すぎる場合に備えて少し明るく */
.modalCard{
  background: rgba(32, 35, 44, .94) !important;
  border: 1px solid rgba(255,255,255,.18) !important;
  color: rgba(255,255,255,.95) !important;
}

/* スマホ */
@media (max-width: 420px){
  .teamPowerBig{ font-size:24px; }
  .memberStatsGridA{ grid-template-columns:repeat(2, 1fr); }
  .statCellA .v{ font-size:15px; }
}
