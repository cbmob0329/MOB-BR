/* =========================
   team.css v19.4（v18ベース：暗さ改善維持 + 要件反映）
   ✅ チーム画面で「トレーニングできてしまうUI」を強制非表示
   ✅ 4ステ（体力/メンタル/エイム/技術）以外の表示を消す
   ✅ パッシブ強化を独立UI化するためのボタン/行スタイル追加
========================= */

/* ===== 共通：オーバーレイ画面 ===== */
.teamScreen{
  position:fixed;
  inset:0;
  z-index:9000;
  display:none;
  align-items:center;
  justify-content:center;
  padding:14px;
}

.teamScreen.show{
  display:flex;
}

/* ===== パネル（暗すぎ対策：背景を明るく・文字を読みやすく） ===== */
.teamPanel{
  width:min(720px, 96vw);
  max-height:86vh;
  overflow:auto;
  border-radius:16px;

  /* ★暗さ改善：少し明るく */
  background:rgba(32, 35, 44, .92);

  /* ★境界が見えるように */
  border:1px solid rgba(255,255,255,.18);

  /* 影は残すが重くしすぎない */
  box-shadow:0 20px 60px rgba(0,0,0,.45);

  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);

  color: rgba(255,255,255,.94);
}

.teamPanelWide{
  padding:10px;
}

/* ヘッダ */
.teamHead{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding:6px 6px 10px;
}

.teamTitle{
  margin:0;
  font-size:16px;
  font-weight:1000;
  letter-spacing:.3px;
}

.teamCloseBtn{
  padding:10px 12px;
  border-radius:12px;
}

/* ====== 案A：スコアボード型 ====== */
.teamPanel.teamPanelWide{
  display:flex;
  flex-direction:column;
  gap:12px;
}

/* ヘッダー（企業/チーム + 総合%群） */
.teamHeaderA{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap:12px;
  padding:10px 10px 8px;
  border-bottom:1px solid rgba(255,255,255,.14);
}

.teamHeaderA .teamHeaderLeft{
  display:flex;
  flex-direction:column;
  gap:4px;
  min-width:0;
}

.teamHeaderA .teamHeaderLeft .line{
  font-size:13px;
  opacity:.96;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.teamHeaderA .teamHeaderLeft .line b{
  font-weight:1000;
}

.teamHeaderA .teamHeaderRight{
  display:flex;
  align-items:baseline;
  gap:8px;
  flex-wrap:wrap;
  justify-content:flex-end;
  text-align:right;
}

/* 総合% */
.teamPowerBig{
  font-size:26px;
  font-weight:1000;
  letter-spacing:.3px;
  white-space:nowrap;
}

/* ui_team.js が後付けするカード込み表示 */
.teamPowerCard{
  margin-left:8px;
  color:#ff3b30;
  font-weight:1000;
  white-space:nowrap;
  font-size:16px;
}
.teamPowerCardLabel{
  margin-left:6px;
  font-size:11px;
  opacity:.95;
  color:#ff3b30;
  white-space:nowrap;
}

/* 3人カード */
.teamMembersA{
  display:flex;
  flex-direction:column;
  gap:10px;
  padding:4px 10px 0;
}

.memberCardA{
  border:1px solid rgba(255,255,255,.16);

  /* ★暗さ改善：カード自体も明るく */
  background:rgba(255,255,255,.10);

  border-radius:14px;
  padding:10px;
  display:flex;
  flex-direction:column;
  gap:8px;
}

.memberCardA .memberTop{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}

.memberCardA .memberName{
  font-size:16px;
  font-weight:1000;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.memberCardA .memberTag{
  font-size:11px;
  opacity:.88;
  border:1px solid rgba(255,255,255,.18);
  border-radius:999px;
  padding:3px 8px;
  white-space:nowrap;
}

/* ステータスは読みやすさ最優先で “セル背景を少し明るく” */
.memberStatsGridA{
  display:grid;
  grid-template-columns:repeat(4, 1fr);
  gap:6px 8px;
}

.statCellA{
  display:flex;
  align-items:baseline;
  justify-content:space-between;
  gap:6px;
  padding:6px 8px;
  border-radius:10px;

  /* ★暗さ改善：黒ベタをやめて少し明るいガラス感に */
  background:rgba(255,255,255,.08);

  border:1px solid rgba(255,255,255,.10);
  min-width:0;
}

.statCellA .k{
  font-size:11px;
  opacity:.92;
  white-space:nowrap;
}

.statCellA .v{
  font-size:14px;
  font-weight:1000;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

/* =========================================================
   ✅ 要件：4ステ以外を「見せない」
   - チーム画面のステ表示を 体力/メンタル/エイム/技術 のみに寄せる
   - ui_team.js が既存DOMをそのまま出しても CSS で潰す
========================================================= */

/* まず：明示的ID（HTMLにある）で潰す */
#tA_agi, #tA_support, #tA_scan, #tA_ult,
#tB_agi, #tB_support, #tB_scan, #tB_ult,
#tC_agi, #tC_support, #tC_scan, #tC_ult{
  display:none !important;
}

/* ラベル側（.k が "敏捷/サポ/索敵/ULT" のケース）も潰す */
.statCellA .k{
  /* ここは通常表示 */
}

/* 文言で消す（安全側：DOM構造が変わっても潰せる） */
.statCellA:has(.k){
  /* 何もしない：個別に消す */
}

/* :has が効かないブラウザ向けに “値” だけでも消えるように ID で潰すのが主 */
@supports selector(:has(*)){
  .statCellA:has(.k){
    /* no-op */
  }
  .statCellA:has(.k:where(:is(:not(*)))){ /* ダミー */ }
  .statCellA:has(.k:where(:is(:not(*)))){ /* ダミー */ }
}

/* PAS行（チーム画面に表示したくないならここで消す）
   ※「パッシブ強化は独立にしたい」なので、チーム画面のPAS表示は消してOK */
.teamMiniSkillRow{
  display:none !important;
}

/* =========================================================
   ✅ 要件：チーム画面で “トレーニングできてしまうUI” を消す
   - ui_team_training.js が挿してる #teamTrainingSection を確実に消す
   - それ以外の訓練系クラス/IDも安全に潰す
========================================================= */
#teamTrainingSection{
  display:none !important;
  pointer-events:none !important;
}

/* 念のため：訓練UIっぽい汎用名も潰す（他画面に影響しない範囲で teamScreen 内だけ） */
#teamScreen .ttMemberTabs,
#teamScreen .ttTopRow,
#teamScreen .ttLogBtn,
#teamScreen .ttMsg,
#teamScreen .ttGrowthArea,
#teamScreen .ttPassiveArea,
#teamScreen .trainingArea,
#teamScreen .teamTraining,
#teamScreen .btnTeamTraining{
  display:none !important;
  pointer-events:none !important;
}

/* =========================================================
   ✅ パッシブ強化を「独立」させるためのボタン/行スタイル
   - JS側でボタンを置いたときに整う（消さない）
========================================================= */
.passiveUpgradeRow{
  margin-top:10px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}

.passiveUpgradeBtn{
  flex:1;
  min-width: 180px;
  padding:11px 12px;
  border-radius:12px;
  font-weight:1000;
  font-size:14px;
  border:1px solid rgba(255,255,255,.18);
  background:rgba(255,255,255,.86);
  color:#111;
  cursor:pointer;
  touch-action:manipulation;
}
.passiveUpgradeBtn:active{
  transform: scale(.98);
}

.passiveUpgradeBtn.sub{
  background:rgba(255,255,255,.10);
  color:#fff;
}

/* フッター */
.teamFooterA{
  padding:8px 10px 10px;
  display:flex;
  flex-direction:column;
  gap:10px;
  border-top:1px solid rgba(255,255,255,.14);
}

.teamSaveRowA{
  display:flex;
  gap:10px;
}

.teamSaveRowA .saveBtn{
  flex:1;
  padding:11px 12px;
  border-radius:12px;
  font-weight:1000;
}

.teamSaveRowA .danger{
  background:rgba(255,59,48,.18);
  border:1px solid rgba(255,59,48,.35);
}

.teamFooterNote{
  font-size:12px;
  opacity:.90;
  line-height:1.35;
}

/* ====== ここが本命：全体が暗くなる原因対策 ======
   modalBack は base.css 側に定義があるはずなので、
   team.css で “上書き”して薄くする（全画面共通で効く）
*/
#modalBack.modalBack{
  /* ★暗さ改善：濃度を大幅に薄く */
  background: rgba(0,0,0,.28) !important;

  /* さらに“画面全体がモヤる”感じを抑える */
  backdrop-filter: blur(1px) !important;
  -webkit-backdrop-filter: blur(1px) !important;
}

/* modalCard（メンバー名や各種ポップ）も暗すぎる場合に備えて少し明るく */
.modalCard{
  background: rgba(32, 35, 44, .94) !important;
  border: 1px solid rgba(255,255,255,.18) !important;
  color: rgba(255,255,255,.95) !important;
}

/* スマホ */
@media (max-width: 420px){
  .teamPowerBig{ font-size:24px; }
  .memberStatsGridA{ grid-template-columns:repeat(2, 1fr); }
  .statCellA .v{ font-size:15px; }
}
