/* ================================
   MOB BR - style.css (FULL)
   - Mobile-first
   - Canvas 420x560 fixed for now
   - UI overlays above canvas
   ================================= */

:root{
  --app-w: 420px;
  --app-h: 560px;

  --panel-bg: rgba(0,0,0,0.55);
  --panel-bd: rgba(255,255,255,0.18);

  --txt: #ffffff;
  --txt-dim: rgba(255,255,255,0.75);

  --btn-bg: rgba(0,0,0,0.65);
  --btn-bd: rgba(255,210,90,0.75);
  --btn-txt: #ffd45a;

  --btn-bg-hover: rgba(0,0,0,0.78);

  --log-bg: rgba(190, 255, 60, 0.92); /* 黄緑イメージ */
  --log-txt: #101010;

  --shadow: 0 6px 18px rgba(0,0,0,0.35);
  --radius: 10px;
}

*{
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}

html, body{
  height: 100%;
  margin: 0;
  padding: 0;
  background: #0f0f10;
  color: var(--txt);
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans JP", "Hiragino Kaku Gothic ProN", "Yu Gothic", sans-serif;
}

/* Center the app on desktop, keep it responsive on mobile */
body{
  display: flex;
  align-items: center;
  justify-content: center;
}

/* App wrapper */
#app{
  width: min(100vw, var(--app-w));
  height: min(100vh, calc(var(--app-h) + 20px));
  padding: 10px;
}

/* The stage that holds canvas & overlay UI */
#app{
  position: relative;
}

/* Canvas */
#game{
  width: var(--app-w);
  height: var(--app-h);
  display: block;
  border-radius: 14px;
  background: #1a1a1a;
  box-shadow: var(--shadow);
  image-rendering: pixelated;
  image-rendering: crisp-edges;
}

/* Overlay container */
#ui{
  position: absolute;
  left: 10px;
  top: 10px;
  width: var(--app-w);
  height: var(--app-h);
  pointer-events: none; /* allow clicks only on interactive elements */
}

/* Panels */
.panel{
  background: var(--panel-bg);
  border: 1px solid var(--panel-bd);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 8px 10px;
  pointer-events: none;
}

#hudTopLeft{
  position: absolute;
  left: 10px;
  top: 10px;
  width: 160px;
}

.hudLine{
  font-size: 12px;
  line-height: 1.25;
  color: var(--txt);
  display: flex;
  gap: 6px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.hudLabel{
  color: var(--txt-dim);
  flex: 0 0 auto;
}

#hud_company, #hud_rank, #hud_team{
  flex: 1 1 auto;
  min-width: 0;
  font-weight: 700;
}

/* Left menu buttons column */
#menuButtons{
  position: absolute;
  left: 12px;
  top: 120px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  pointer-events: auto;
}

/* Buttons */
.uiBtn{
  width: 140px;
  padding: 10px 10px;
  border-radius: 12px;
  border: 2px solid var(--btn-bd);
  background: var(--btn-bg);
  color: var(--btn-txt);
  font-weight: 900;
  font-size: 16px;
  letter-spacing: 0.02em;
  box-shadow: var(--shadow);
  cursor: pointer;
}

.uiBtn:active{
  transform: translateY(1px);
}

.uiBtn:hover{
  background: var(--btn-bg-hover);
}

/* Wide bottom buttons */
#bottomControls{
  position: absolute;
  left: 170px;
  bottom: 12px;
  display: flex;
  gap: 10px;
  pointer-events: auto;
}

.uiBtnWide{
  width: 110px;
  font-size: 16px;
  padding: 10px 0;
}

/* Main Frame (center-right) */
#mainFrame{
  position: absolute;
  left: 168px;
  top: 110px;
  width: 242px;
  height: 260px;
  border-radius: 12px;
  border: 2px solid rgba(255,255,255,0.25);
  background: rgba(255,255,255,0.06);
  box-shadow: var(--shadow);
  pointer-events: none;
  overflow: hidden;
}

#mainFrameInner{
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  text-align: center;
}

#mainFrameTitle{
  font-weight: 1000;
  letter-spacing: 0.08em;
  font-size: 20px;
  color: rgba(255,255,255,0.85);
  text-shadow: 0 2px 8px rgba(0,0,0,0.35);
}

#mainFrameSub{
  margin-top: 6px;
  font-size: 12px;
  color: rgba(255,255,255,0.7);
}

/* Log / Message Box (the green area in screenshot)
   -> Make it scrollable for long content (training items list etc.) */
#logBox{
  position: absolute;
  left: 10px;
  top: 390px;
  width: 400px;
  height: 120px;

  background: var(--log-bg);
  border: 2px solid rgba(0,0,0,0.45);
  border-radius: 12px;
  box-shadow: var(--shadow);

  padding: 10px 10px;
  pointer-events: auto;

  overflow-y: auto;      /* ✅ scroll */
  overflow-x: hidden;
}

#logText{
  color: var(--log-txt);
  font-size: 16px;
  font-weight: 900;
  line-height: 1.25;
  white-space: pre-wrap; /* allow \n */
}

/* Scrollbar (optional, subtle) */
#logBox::-webkit-scrollbar{
  width: 10px;
}
#logBox::-webkit-scrollbar-thumb{
  background: rgba(0,0,0,0.25);
  border-radius: 10px;
}
#logBox::-webkit-scrollbar-track{
  background: rgba(0,0,0,0.08);
  border-radius: 10px;
}

/* Modal */
#modalBackdrop{
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.6);
  pointer-events: auto;
}

#modalPanel{
  position: absolute;
  left: 20px;
  top: 60px;
  width: 380px;
  height: 440px;

  background: rgba(20,20,20,0.92);
  border: 2px solid rgba(255,255,255,0.22);
  border-radius: 14px;
  box-shadow: var(--shadow);

  display: flex;
  flex-direction: column;
  pointer-events: auto;
}

#modalHeader{
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 12px;
  border-bottom: 1px solid rgba(255,255,255,0.16);
}

#modalTitle{
  font-weight: 1000;
  font-size: 16px;
  color: rgba(255,255,255,0.9);
  letter-spacing: 0.06em;
}

.uiBtnSmall{
  width: 40px;
  height: 34px;
  border-radius: 10px;
  border: 2px solid rgba(255,255,255,0.25);
  background: rgba(0,0,0,0.35);
  color: rgba(255,255,255,0.9);
  font-weight: 900;
  cursor: pointer;
}

#modalBody{
  flex: 1;
  padding: 12px;
  overflow: auto;
}

#modalContent{
  font-size: 14px;
  color: rgba(255,255,255,0.9);
  line-height: 1.35;
  white-space: pre-wrap;
}

.modalText{
  opacity: 0.9;
}

#modalFooter{
  padding: 10px 12px;
  border-top: 1px solid rgba(255,255,255,0.16);
  display: flex;
  justify-content: flex-end;
}

/* Hidden helper */
.hidden{
  display: none !important;
}

/* Small screens */
@media (max-width: 430px){
  :root{
    --app-w: 390px;
    --app-h: 560px;
  }
  #hudTopLeft{ width: 150px; }
  #menuButtons .uiBtn{ width: 132px; }
  #mainFrame{ left: 160px; width: 230px; }
  #logBox{ width: 370px; }
  #bottomControls{ left: 160px; }
}

/* Very small (fallback) */
@media (max-width: 380px){
  :root{
    --app-w: 360px;
    --app-h: 540px;
  }
  #game{
    border-radius: 12px;
  }
  #hudTopLeft{ left: 8px; top: 8px; width: 140px; }
  #menuButtons{ left: 10px; top: 110px; }
  #menuButtons .uiBtn{ width: 125px; font-size: 15px; }
  #mainFrame{ left: 150px; top: 100px; width: 205px; height: 250px; }
  #logBox{ left: 8px; top: 370px; width: 344px; height: 120px; }
  #bottomControls{ left: 150px; bottom: 10px; }
  .uiBtnWide{ width: 98px; font-size: 15px; }
}
