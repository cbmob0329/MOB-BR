/* =========================================================
   shop.css  (MOB BR / v15)
   役割：
   - SHOP画面（#shopScreen）専用スタイル
   - 背景：shop.png を「ショップ背景」として使用
   - メニュー（育成アイテム / カードガチャ / コーチスキル購入 / 閉じる）
   - 確認ポップ / メンバー選択ポップ / 結果ポップ
   ※他画面（team/training/main）に影響が出ないよう #shopScreen にスコープ
========================================================= */

/* =========================
   SHOP SCREEN BASE
========================= */
#shopScreen{
  /* teamScreen共通の show 制御を前提（team.css 側で .show がある想定） */
}

/* ショップ背景：panel全体に shop.png */
#shopScreen .teamPanel{
  position: relative;
  overflow: hidden;
}

/* 背景レイヤー（shop.png） */
#shopScreen .teamPanel::before{
  content:"";
  position:absolute;
  inset:0;
  background: #0b0f17 url("shop.png") center/cover no-repeat;
  filter: saturate(1.05) contrast(1.05);
  z-index: 0;
}

/* 暗幕（文字の視認性確保） */
#shopScreen .teamPanel::after{
  content:"";
  position:absolute;
  inset:0;
  background: linear-gradient(
    180deg,
    rgba(0,0,0,.62) 0%,
    rgba(0,0,0,.50) 30%,
    rgba(0,0,0,.58) 100%
  );
  z-index: 1;
}

/* 中身を前面へ */
#shopScreen .teamHead,
#shopScreen .teamMeta,
#shopScreen .teamSection,
#shopScreen .teamPanel > *{
  position: relative;
  z-index: 2;
}

/* meta を少し読みやすく */
#shopScreen .teamMeta{
  background: rgba(0,0,0,.28);
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 12px;
  padding: 12px 12px;
}

/* =========================
   SHOP MENU LAYOUT
========================= */

/* ui_shop.js が #shopMenu を作る想定（無くてもOK） */
#shopMenu{
  display: grid;
  grid-template-columns: 1fr;
  gap: 10px;
}

/* メニューの大ボタン */
#shopScreen .shopMenuBtn{
  width: 100%;
  border: 0;
  border-radius: 14px;
  padding: 14px 14px;
  background: rgba(255,255,255,.12);
  color: #fff;
  font-weight: 1000;
  text-align: left;
  cursor: pointer;
  box-shadow: 0 10px 22px rgba(0,0,0,.25);
  border: 1px solid rgba(255,255,255,.14);
  touch-action: manipulation;
}

#shopScreen .shopMenuBtn:active{
  transform: translateY(1px);
  opacity: .96;
}

#shopScreen .shopMenuTitle{
  font-size: 16px;
  line-height: 1.1;
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 10px;
}

#shopScreen .shopMenuSub{
  margin-top: 6px;
  font-size: 12px;
  font-weight: 900;
  opacity: .92;
  line-height: 1.25;
}

/* 右側のバッジ（任意） */
#shopScreen .shopBadge{
  font-size: 12px;
  font-weight: 1000;
  padding: 4px 8px;
  border-radius: 999px;
  background: rgba(255,255,255,.16);
  border: 1px solid rgba(255,255,255,.16);
  white-space: nowrap;
}

/* 閉じるボタンだけ少し薄く */
#shopScreen .shopMenuBtn.isClose{
  background: rgba(0,0,0,.20);
}

/* =========================
   SECTION: ITEM SHOP
========================= */
#shopScreen .shopList{
  display:flex;
  flex-direction: column;
  gap: 10px;
}

/* アイテム行 */
#shopScreen .shopItemRow{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 12px;

  padding: 12px 12px;
  border-radius: 14px;
  background: rgba(255,255,255,.10);
  border: 1px solid rgba(255,255,255,.14);
  box-shadow: 0 10px 22px rgba(0,0,0,.22);
}

#shopScreen .shopItemLeft{
  min-width: 0;
  display:flex;
  flex-direction: column;
  gap: 4px;
}

#shopScreen .shopItemName{
  font-weight: 1000;
  font-size: 15px;
  line-height: 1.1;
  overflow:hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

#shopScreen .shopItemDesc{
  font-size: 12px;
  font-weight: 900;
  opacity: .92;
  line-height: 1.25;
}

#shopScreen .shopItemRight{
  display:flex;
  align-items:center;
  gap: 10px;
  flex-shrink: 0;
}

#shopScreen .shopPrice{
  font-weight: 1000;
  font-size: 13px;
  white-space: nowrap;
  opacity: .98;
}

/* 購入ボタン */
#shopScreen .shopBuyBtn{
  border: 0;
  border-radius: 12px;
  padding: 10px 12px;
  font-weight: 1000;
  font-size: 13px;
  color: #111;
  background: rgba(255,255,255,.88);
  cursor: pointer;
  touch-action: manipulation;
  white-space: nowrap;
}

#shopScreen .shopBuyBtn:active{
  transform: translateY(1px);
  opacity: .95;
}

/* 無効（G不足/購入済み等） */
#shopScreen .shopBuyBtn:disabled{
  opacity: .45;
  cursor: default;
}

/* =========================
   SECTION: COACH SKILL SHOP
========================= */
#shopScreen .coachSkillRow{
  display:flex;
  flex-direction: column;
  gap: 8px;
}

#shopScreen .coachSkillTop{
  display:flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 10px;
}

#shopScreen .coachSkillName{
  font-weight: 1000;
  font-size: 15px;
}

#shopScreen .coachSkillMeta{
  font-size: 12px;
  font-weight: 900;
  opacity: .92;
}

#shopScreen .coachSkillEffects{
  font-size: 12px;
  font-weight: 900;
  line-height: 1.35;
  opacity: .95;
}

#shopScreen .coachSkillQuote{
  margin-top: 2px;
  font-size: 12px;
  font-weight: 900;
  opacity: .92;
  padding: 10px 10px;
  border-radius: 12px;
  background: rgba(0,0,0,.24);
  border: 1px solid rgba(255,255,255,.10);
}

/* =========================
   POPUPS (CONFIRM / MEMBER PICK / RESULT)
   ※ui_shop.js が動的に作る前提でも使えるよう class ベース
========================= */

/* shop系のポップアップ共通 */
#shopScreen .shopPop,
.shopPop{
  position: fixed;
  left: 50%;
  top: 50%;
  transform: translate(-50%,-50%);
  width: min(560px, 92vw);
  max-height: 78vh;
  overflow: auto;

  z-index: 9999;
  display: none;

  border-radius: 16px;
  padding: 16px 16px;
  background: rgba(0,0,0,.78);
  border: 2px solid rgba(255,255,255,.26);
  box-shadow: 0 16px 36px rgba(0,0,0,.45);
  color: #fff;
  text-shadow: 0 2px 10px rgba(0,0,0,.55);
}

#shopScreen .shopPop.show,
.shopPop.show{
  display:block;
}

#shopScreen .shopPopTitle,
.shopPopTitle{
  font-weight: 1000;
  font-size: 18px;
  line-height: 1.1;
}

#shopScreen .shopPopText,
.shopPopText{
  margin-top: 10px;
  font-weight: 900;
  font-size: 14px;
  line-height: 1.35;
  opacity: .98;
}

/* YES/NO ボタン行 */
#shopScreen .shopPopActions,
.shopPopActions{
  display:flex;
  gap: 10px;
  margin-top: 14px;
}

#shopScreen .shopPopBtn,
.shopPopBtn{
  flex: 1;
  border: 0;
  border-radius: 12px;
  padding: 12px 12px;
  font-weight: 1000;
  font-size: 14px;
  cursor: pointer;
  touch-action: manipulation;
}

#shopScreen .shopPopBtn:active,
.shopPopBtn:active{
  transform: translateY(1px);
  opacity: .96;
}

#shopScreen .shopPopBtnYes,
.shopPopBtnYes{
  background: rgba(255,255,255,.90);
  color: #111;
}

#shopScreen .shopPopBtnNo,
.shopPopBtnNo{
  background: rgba(255,255,255,.14);
  color: #fff;
  border: 1px solid rgba(255,255,255,.18);
}

/* メンバー選択リスト */
#shopScreen .memberPickList,
.memberPickList{
  margin-top: 12px;
  display:flex;
  flex-direction: column;
  gap: 10px;
}

#shopScreen .memberPickBtn,
.memberPickBtn{
  width: 100%;
  border: 0;
  border-radius: 12px;
  padding: 12px 12px;
  background: rgba(255,255,255,.12);
  color: #fff;
  font-weight: 1000;
  font-size: 15px;
  cursor: pointer;
  text-align: left;
  border: 1px solid rgba(255,255,255,.14);
  touch-action: manipulation;
}

#shopScreen .memberPickBtn:active,
.memberPickBtn:active{
  transform: translateY(1px);
  opacity: .96;
}

/* 結果テキストを強調 */
#shopScreen .shopResultBig,
.shopResultBig{
  margin-top: 10px;
  font-weight: 1000;
  font-size: 16px;
  line-height: 1.3;
}

/* 小さい注意書き */
#shopScreen .shopTiny,
.shopTiny{
  margin-top: 8px;
  font-size: 12px;
  font-weight: 900;
  opacity: .92;
  line-height: 1.35;
}

/* =========================
   EXISTING SHOP RESULT AREA (index.html 内)
========================= */
#shopScreen #shopResult{
  background: rgba(0,0,0,.30);
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 14px;
}

#shopScreen #shopResultList{
  display:flex;
  flex-direction: column;
  gap: 8px;
}

#shopScreen .recordsList .recordRow{
  /* recordsList共通がある前提だが、無い環境でも最低限 */
  padding: 10px 10px;
  border-radius: 12px;
  background: rgba(255,255,255,.10);
  border: 1px solid rgba(255,255,255,.12);
}

/* =========================
   RESPONSIVE
========================= */
@media (max-width: 520px){
  #shopScreen .teamMeta{
    padding: 10px 10px;
  }

  #shopScreen .shopMenuBtn{
    padding: 12px 12px;
  }

  #shopScreen .shopMenuTitle{
    font-size: 15px;
  }

  #shopScreen .shopItemRow{
    padding: 10px 10px;
  }

  #shopScreen .shopBuyBtn{
    padding: 9px 10px;
    font-size: 13px;
  }

  #shopScreen .shopPop,
  .shopPop{
    padding: 14px 14px;
  }
}
