/* =========================================================
   base.css  (v14)
   役割：
   - 全画面共通の土台（変数 / reset / 共通ユーティリティ / 共通モーダル）
   - タイトル/メイン/チーム/育成“固有”のレイアウトや装飾は入れない
========================================================= */

:root{
  /* spacing */
  --pad: 16px;
  --gap: 14px;

  /* layout (主にメインで使用するが、変数は共通置き) */
  --leftW: 240px;
  --rightMax: 720px;

  /* common effects */
  --shadow: 0 18px 40px rgba(0,0,0,.45);
  --textShadow: 0 3px 0 rgba(0,0,0,.55);

  /* float animation (メニューなどで共通利用) */
  --floatAmp: 5px;
  --floatTime: 3.2s;

  /* popups / modals */
  --popZ: 40;
}

/* ===== iOS / mobile interaction helpers ===== */
.no-callout, .no-callout *{
  -webkit-user-select: none;
  user-select: none;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: rgba(0,0,0,0);
}
.allow-select{
  -webkit-user-select: text !important;
  user-select: text !important;
  -webkit-touch-callout: default !important;
}

/* ===== reset / base ===== */
*{ box-sizing: border-box; }

html, body{
  margin: 0;
  height: 100%;
  background: #000;
  overflow: hidden; /* 画面全体はスクロールさせない（個別スクロール領域のみ） */
  font-family: system-ui, -apple-system, "Hiragino Kaku Gothic ProN", "Noto Sans JP", sans-serif;
}

img{ max-width: 100%; height: auto; }
button{ font: inherit; }

/* ===== common utility ===== */
.tappable{ cursor: pointer; }
.tappable:active{ opacity: .85; }

/* 画像ボタン共通（メニューなど） */
.imgBtn{
  width: 100%;
  border: none;
  background: transparent;
  padding: 0;
  cursor: pointer;
  touch-action: manipulation;
}
.imgBtn img{
  width: 100%;
  height: auto;
  display: block;
  filter: drop-shadow(0 10px 18px rgba(0,0,0,.55));
  pointer-events: none;
}
.imgBtn:active{ transform: translateY(1px); }

/* ふわふわアニメ（任意で付ける） */
.floaty{ animation: floaty var(--floatTime) ease-in-out infinite; }
.delay1{ animation-delay: .15s; }
.delay2{ animation-delay: .30s; }
.delay3{ animation-delay: .45s; }
.delay4{ animation-delay: .60s; }
.delay5{ animation-delay: .75s; }

@keyframes floaty{
  0%{ transform: translateY(0); }
  50%{ transform: translateY(calc(-1 * var(--floatAmp))); }
  100%{ transform: translateY(0); }
}

/* 画面下の safe-area 余白確保用（必要な場所だけ置く） */
.safePad{
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: env(safe-area-inset-bottom);
  z-index: 1;
}

/* ===== common modals ===== */
/* 背景（クリックしても閉じない運用：JS側で preventDefault している前提） */
.modalBack{
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,.55);
  z-index: var(--popZ);
  display: none;
}

/* 中央カード（membersPop など） */
.modalCard{
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%,-50%);
  z-index: calc(var(--popZ) + 2);
  width: min(560px, 86vw);
  border-radius: 16px;
  background: rgba(0,0,0,.78);
  border: 2px solid rgba(255,255,255,.35);
  box-shadow: var(--shadow);
  padding: 16px;
  color: #fff;
  text-shadow: var(--textShadow);
  display: none;
}

.modalTitle{
  font-size: 22px;
  font-weight: 1000;
  margin-bottom: 12px;
}

/* 共通 “閉じる” 系ボタン */
.closeBtn{
  margin-top: 14px;
  width: 100%;
  border: none;
  border-radius: 12px;
  padding: 12px 12px;
  font-size: 16px;
  font-weight: 1000;
  background: rgba(255,255,255,.9);
  color: #111;
  touch-action: manipulation;
}
.closeBtn:active{ transform: translateY(1px); opacity: .95; }

/* =========================================================
   Responsive: “共通で安全な変数調整だけ”
   ※各画面のレイアウト崩れを防ぐため、共通側は最小限
========================================================= */
@media (max-width: 860px){
  :root{ --leftW: 220px; }
}

@media (max-width: 520px){
  :root{ --pad: 12px; --gap: 12px; --leftW: 170px; }
}
